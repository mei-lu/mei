---
import "../../../styles/components/post-listing.css"
import { MONTHS } from "../../../scripts/_types"
const { postFile } = Astro.props

const title: string = postFile.data.title
const filePath: string = postFile.filePath
const url = "/" + filePath.replace(/^src\/pages\//, "").replace(/\.[^/.]+$/, "")
const date: Date = new Date(postFile.data.date)
const month: string = MONTHS[date.getMonth()]
const day: number = date.getDate()
const description: string = postFile.data.description
const category: string = postFile.data.category
---

<article class="post-listing">
    <div class="date-content">
        <p class="month">{month}</p>
        <p class="day">{day}</p>
        <span class="moon-phase">O</span>
    </div>
    <div class="text-content">
        <p>{category}</p>
        <p class="post-title">
            <a href={url}>{title}</a>
        </p>
        <p class="post-description">{description}</p>
    </div>
</article>
